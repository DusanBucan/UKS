<div class="main-container">
  <div class="invisible-container">
    <div class="invisible-container-left">
    </div>
    <div class="invisible-container-right">
      <button class="button green" (click)="new()">New commit</button>
    </div>
  </div>
  <div class="issues-container">
    <div class="issues-header">
      <div class="issues-left-header">
        <div class="issues-left-header-info">
          <img src="../../assets/merged-pr.svg" height="20" />{{commits.length}} Commits
        </div>
      </div>
      <div class="issues-right-header">
        <div>
          <button
            class="issues-header-item"
            (click)="selectDropdown(dropdownType.author)"
          >
            <div
              style="display: flex; align-items: center; flex-direction: row"
            >
              Author
              <div class="arrow-down"></div>
            </div>
          </button>
          <div *ngIf="dropdownSelected === dropdownType.author">
            <div class="dropdown author">
              <div class="dropdown-header">
                <div class="dropdown-content-header">Filter by author</div>
                <button
                  class="x"
                  (click)="selectDropdown(dropdownType.unselected)"
                >
                  X
                </button>
              </div>
              <div
                *ngFor="let user of users"
                class="dropdown-item"
                (click)="filterAuthor(user.id)"
              >
                <div class="dropdown-content">{{ user.user.username }}</div>
              </div>
            </div>
          </div>
        </div>
        
        <div>
          <button
            class="issues-header-item"
            (click)="selectDropdown(dropdownType.sort)"
          >
            <div
              style="display: flex; align-items: center; flex-direction: row"
            >
              Sort
              <div class="arrow-down"></div>
            </div>
          </button>
          <div *ngIf="dropdownSelected === dropdownType.sort">
            <div class="dropdown sort">
              <div class="dropdown-header">
                <div class="dropdown-content-header">Sort by</div>
                <button
                  class="x"
                  (click)="selectDropdown(dropdownType.unselected)"
                >
                  X
                </button>
              </div>
              <div
                *ngFor="let order of orders"
                class="dropdown-item"
                (click)="filterOrder(order.id)"
              >
                <div class="dropdown-content">{{ order.name }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="milestone" *ngFor="let commit of commits">
      <div class="milestone-left">
        <div class="milestone-heading">
          <div class="issue-heading" (click)="details(commit.id)">
            {{commit.summary}}
          </div>
        </div>
        <div class="issue-desc">
          {{commit.hash}}
        </div>
      </div>
      <div class="milestone-right">
        <div class="milestone-right-row">
          <div class="milestone-stats">
            {{commit.user.user.username}}
          </div>
        </div>
        <div class="milestone-right-row">
          {{commit.date | date: "dd.MM.yyyy hh:mm" }}
        </div>
      </div>
    </div>
  </div>
</div>
